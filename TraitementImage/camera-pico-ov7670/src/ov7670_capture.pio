.program ov7670_capture

.wrap_target
    wait 0 pin 1        ; VSYNC low
    wait 1 pin 1        ; VSYNC high

line_wait:
    wait 1 pin 0        ; HREF = 1

pixel_loop:
    wait 1 pin 0        ; PCLK rising
    in pins, 8
    wait 0 pin 0

    wait 1 pin 0
    in pins, 8
    wait 0 pin 0

    jmp pin pixel_loop
    jmp line_wait
.wrap
